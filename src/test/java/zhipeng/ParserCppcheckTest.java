package zhipeng;

import org.dom4j.DocumentException;

public class ParserCppcheckTest {

    public void testCppcheckwarning() throws DocumentException {
//        ArrayList<StaticWarning> wr = new ParserCppcheckWarning().parseXml("D:\\0Workspace\\IDEA-CODE\\SAWMiner\\src\\test\\java\\zhipeng\\cppcheckreport-no-addon.xml", "testgit","testid");
//        System.out.println(wr.size());
//
//
////        System.out.println(wr.size());
//            // 构建cppcheck命令行
//        try {
//            // 指定要扫描的目录
//            String directory = "tmp/brpc";
////            String directory = "./src";
//
//            // 创建ProcessBuilder对象，指定cppcheck命令及参数
//            ProcessBuilder processBuilder = new ProcessBuilder("cppcheck", "--xml", directory);
//
//            // 设置重定向输出到文件
//            processBuilder.redirectError(ProcessBuilder.Redirect.to(new File("report-test.xml")));
//            processBuilder.redirectOutput(ProcessBuilder.Redirect.to(new File("log-test.txt")));
//            // 启动进程并等待其完成
//            Process process = processBuilder.start();


//            BufferedReader outputReader = new BufferedReader(new InputStreamReader(process.getInputStream()));
//            BufferedReader errorReader = new BufferedReader(new InputStreamReader(process.getErrorStream()));
//            String outputLine;
//            while ((outputLine = outputReader.readLine()) != null) {
//                // 处理输出
//                System.out.println(outputLine);
//            }
//            String errorLine;
//            while ((errorLine = errorReader.readLine()) != null) {
//                // 处理错误
//                System.out.println(errorLine);
//            }
//            int exitCode = process.waitFor();
//            outputReader.close();
//            errorReader.close();

    }
}
